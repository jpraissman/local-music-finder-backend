bands_dict = {' 1 Hit Summer': '1 Hit Summer', '1 Hit Summer': '1 Hit Summer', '3-Piece Suit': '3-Piece Suit', '3-Piece Suit ': '3-Piece Suit', 'Almost Autumn': 'Almost Autumn', 'Almost Autumn ': 'Almost Autumn', 'Back in Time': 'Back in Time', 'Back in Time ': 'Back in Time', ' Ã¢â‚¬â€¹BBD Rhythm & Blues': 'BBD Rhythm & Blues', 'Ã¢â‚¬â€¹BBD Rhythm & Blues': 'BBD Rhythm & Blues', 'BBD Rhythm & Blues': 'BBD Rhythm & Blues', 'BBD Rhythm & Blues ': 'BBD Rhythm & Blues', 'BREATHE - NJ Pink Floyd Tribute ': 'BREATHE - NJ Pink Floyd Tribute ', 'Brue Crew': 'BREATHE - NJ Pink Floyd Tribute ', 'Christina Alessi & The Toll Collectors': 'Christina Alessi & The Toll Collectors', 'Christina Alessi and the Toll Collectors': 'Christina Alessi & The Toll Collectors', 'Crickets & Cicadas': 'Crickets & Cicadas', 'Crickets & Cicadas-Acoustic Dead Tribute ': 'Crickets & Cicadas', 'Deadicated & Friends': 'Deadicated & Friends', 'Deadicated & Friends ': 'Deadicated & Friends', 'Diamond Eye': 'Diamond Eye Jack', 'Diamond Eye Jack': 'Diamond Eye Jack', 'Dizaster Hirse': 'Dizaster Horse', 'Dizaster Horse': 'Dizaster Horse', 'Four Man Trio': 'Four Man Trio', 'Four Man TrioÃ¢â‚¬â€¹Ã¢â‚¬â€¹': 'Four Man Trio', ' Gigi Onofrio': 'Gigi Onofrio', 'Gigi Onofrio': 'Gigi Onofrio', 'Ice Cold Chili Peppers': 'Ice Cold Chili Peppers', 'Ice Cold Chili Peppers ': 'Ice Cold Chili Peppers', ' J.P. Conques ': 'J.P. Conques ', 'Jeiris Cook': 'Jeiris Cook', 'Jeiris Cook ': 'Jeiris Cook', ' Jeiris Cook ': 'Jeiris Cook ', 'John Cain': 'John Cain', 'John Cain ': 'John Cain', ' Mark Mayer': 'Mark Mayer', 'Michael PatrickÃ¢â‚¬â„¢s Ring of Fire Band': 'Michael Patrickâ€™s Ring of Fire Band', ' Mid-Life Crisis': 'Mid-Life Crisis', ' Mixtape Meltdown': 'Mixtape Meltdown', 'Mr. Lovejoy': 'Mr. Lovejoy', 'Mr. Lovejoy ': 'Mr. Lovejoy', 'Nine Deeez Nite': 'Nine Deeez Nite', 'Nine Deeez Nite ': 'Nine Deeez Nite', 'NORToN SMULL Band': 'NORToN SMULL Band', 'NORToN SMULL Band ': 'NORToN SMULL Band', ' Pam Urgiles': 'Pam Urgiles', 'Pete DÃ¢â‚¬â„¢Angelo': 'Pete Dâ€™Angelo', 'Primrose Path': 'Primrose Path', 'Primrose Path ': 'Primrose Path', 'Rated R Band': 'Rated R Band', 'Rated R Band ': 'Rated R Band', ' Secondhand Flannel ': 'Secondhand Flannel ', 'Shaky Moon Band': 'Shaky Moon Band', 'Shaky Moon Band ': 'Shaky Moon Band', ' Str8up Band': 'Str8up Band', 'Str8up Band': 'Str8up Band', 'Str8up Band ': 'Str8up Band', 'SUPERNOVA': 'SUPERNOVA', 'SUPERNOVA ': 'SUPERNOVA', 'Tennessee Honey Band': 'Tennessee Honey Band', 'Tennessee Honey Band ': 'Tennessee Honey Band', 'The Darla Hood Band': 'The Darla Hood Band', 'The Darla Hood Band ': 'The Darla Hood Band', 'The Eddie Testa Band': 'The Eddie Testa Band', 'The Eddie Testa Band ': 'The Eddie Testa Band', 'The EDGE': 'The EDGE', 'The EDGE ': 'The EDGE', 'The Fabulous Rhythm Aces': 'The Fabulous Rhythm Aces', 'The Fabulous Rhythm Aces ': 'The Fabulous Rhythm Aces', 'The Faculty Meeting': 'The Faculty Meeting', 'The Faculty Meeting ': 'The Faculty Meeting', 'The Foster Children': 'The Foster Children', 'The Foster Children ': 'The Foster Children', 'The Georgia 5: 80Ã¢â‚¬â„¢s Dance Party': 'The Georgia 5: 80â€™s Dance Party', 'The Georgia 5: 80Ã¢â‚¬â„¢s Dance Party ': 'The Georgia 5: 80â€™s Dance Party', 'The Gumbo Gombas': 'The Gumbo Gumbas', 'The Gumbo Gumbas': 'The Gumbo Gumbas', 'The High Strung Band': 'The High Strung Band', 'The High Strung Band ': 'The High Strung Band', 'The Jersey Riff': 'The Jersey Riff', 'The Jersey Riff ': 'The Jersey Riff', ' The Joe Rizzolution QUINTET': 'The Joe Rizzolution QUINTET', 'The Maniacs': 'The Maniacs', 'The Maniacs ': 'The Maniacs', 'The Matt Coffy Ban': 'The Matt Coffy Band', 'The Matt Coffy Band': 'The Matt Coffy Band', 'The Mountain Jam Band': 'The Mountain Jam Band', 'The Mountain Jam Band ': 'The Mountain Jam Band', 'The Powertones': 'The Powertones', 'The Powertones ': 'The Powertones', ' The Retrocasters': 'The Retrocasters', 'The Retrocasters': 'The Retrocasters', 'The Retrocasters ': 'The Retrocasters', 'The Sandy Stones  Trio': 'The Sandy Stones  Trio', 'The Sandy Stones Trio': 'The Sandy Stones  Trio', 'The Uptown Boogie Band': 'The Uptown Boogie Band', 'The Uptown Boogie Band ': 'The Uptown Boogie Band', ' The Uptown Getdowns': 'The Uptown Getdowns', 'This Old Engine': 'This Old Engine', 'This Old Engine ': 'This Old Engine', 'Timepeace': 'Timepeace Band', 'Timepeace Band': 'Timepeace Band', 'Triggerfish': 'Triggerfish', 'Triggerfish ': 'Triggerfish', ' Twilight Disciples': 'Twilight Disciples', 'UNHINGED': 'UNHINGED', 'UNHINGED ': 'UNHINGED', 'Whole Lotta Led': 'Whole Lotta Led', 'WHOLE LOTTA LED ': 'Whole Lotta Led'}

from scripts.models.event import Event
from scripts.models.band import Band
from app import db

events: list[Event] = Event.query.all()
# venues: list[Venue] = Venue.query.all()

# for venue in venues:
#   db.session.delete(venue)
# db.session.commit()

# for event in events:
#   event.venue_id = None
#   db.session.add(event)
# db.session.commit()

for event in events:
  band_name = event.band_name
  # Check if the venue name is in the venues_dict dictionary
  if band_name in bands_dict:
    band_name = bands_dict[band_name]
  
  # Check if the venue exists
  all_bands = Band.query.filter_by(band_name=band_name)
  if all_bands.count() == 0:
    # Create the venue
    band = Band(band_name=band_name, band_type=event.band_type, tribute_band_name=event.tribute_band_name, genres=event.genres)
    db.session.add(band)
    db.session.commit()
  else:
    band = all_bands[0]
  
  # We have the venue here, connect to the event
  # print()
  event.band_id = band.id
  db.session.add(event)
  db.session.commit()
  

